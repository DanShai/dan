(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{178:function(e,t,n){e.exports=n(353)},183:function(e,t,n){},353:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(94),o=n.n(c),s=(n(183),n(10)),i=n.n(s),u=n(25),l=n(32),p=n(74),d=n(163),m=n(37),f=n(174),g=n(375),h=n(167),b=n(168),v=n(34),j=n(59),x=n(46),y=n(57),E=n(169),w=n(45),O=n.n(w),k=n(70),P=n(119),C=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(j.a)(this,Object(x.a)(t).call(this,e))).message=e,n.name="JobError",n}return Object(y.a)(t,e),t}(Object(P.a)(Error)),S=function e(){var t=this;Object(v.a)(this,e),this.getFromReg=function(){var e=Object(u.a)(i.a.mark(function e(n,r){var a,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.regs.get(n),e.next=3,r.match(a);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),this.formatOne=function(){var e=Object(u.a)(i.a.mark(function e(n){var r,a,c,o,s,u,l,p,d,m,f,g;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.company,a=n.contact,c=n.otherContact,o=n.email,s=n.phone,u=n.description,l=n.address,p=n.companyUrl,e.next=3,t.getFromReg("phone",u);case 3:return d=e.sent,e.next=6,t.getFromReg("email",u);case 6:return m=e.sent,f={company:r=r||"Read the Description/Note",contact:a=a||r||"Read the Description/Note",email:o=o||m||["Read the Description/Note"],phone:s=s||d||["Read the Description/Note"],address:l=l||"Read the Description/Note",description:u=u||"No Description/Note",otherContact:c=c||"Read the Description/Note",companyUrl:p=p||"Read the Description/Note"},g=Object(k.a)({},n,f),e.abrupt("return",g);case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this.formatJobs=function(){var e=Object(u.a)(i.a.mark(function e(n){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n&&0!==n.length){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,Promise.all(n.map(t.formatOne));case 5:if(r=e.sent){e.next=8;break}throw new C("fk job error");case 8:return e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),this.regs=new Map([["email",/[a-z0-9-]{1,30}@[a-z0-9-]{1,65}.[a-z]{1,}/gim],["phone",/((([+][\s]{0,1})|([0]{2}[\s-]{0,1}))([358]{3})([\s-]{0,1})|([0]{1}))(([1-9]{1}[0-9]{0,1})([\s-]{0,1})([0-9]{2,4})([\s-]{0,1})([0-9]{2,4})([\s-]{0,1}))([0-9]{0,3}){1}/gm],["url",/https{0,1}:\/\/\S*/gim]])},A=function e(t,n){if(Object(v.a)(this,e),this.getJobs=function(){throw new Error("implement me bro")},(this instanceof e?this.constructor:void 0)===e)throw new TypeError("watch out bro!");this.url=t,this.name=n,this.parser=new S},R=function(e){function t(){var e,n;Object(v.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(j.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(a)))).getJobs=function(){var e=Object(u.a)(i.a.mark(function e(t){var r,a,c,o,s,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.url,a="?hakusana=".concat(t||"python","&alueet=Uusimaa&&kentat=ilmoitusnumero&rows=100&start=0&ss=true"),e.prev=3,e.next=6,O.a.get("".concat(r).concat(a));case 6:return c=e.sent,e.next=9,c.data.response.docs;case 9:if(o=e.sent,s=[],o){e.next=13;break}throw new C("Empty bro");case 13:return e.next=15,Promise.all(o.map(function(e){var t=e.ilmoitusnumero;return n.getJob(t)}));case 15:return s=e.sent,e.next=18,n.parser.formatJobs(s);case 18:return u=e.sent,e.abrupt("return",u);case 22:return e.prev=22,e.t0=e.catch(3),console.log(e.t0.message),e.abrupt("return",[]);case 26:case"end":return e.stop()}},e,this,[[3,22]])}));return function(t){return e.apply(this,arguments)}}(),n.getJob=function(){var e=Object(u.a)(i.a.mark(function e(t){var r,a,c,o,s,u,l,p,d,m,f,g,h,b,v;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.url,a="/".concat(t,"?kieli=fi"),e.prev=2,e.next=5,O.a.get("".concat(r).concat(a));case 5:return c=e.sent,e.next=8,c.data.response.docs[0];case 8:if(o=e.sent){e.next=11;break}throw new C("Empty bro");case 11:return 1,s=o.kunta,u=o.tehtavanimi,l=o.tyonantajanNimi,p=o.maakunta,d=o.yhteystiedotSahkoposti,m=o.tyopaikanOsoite,f=o.yhteystiedot,g=o.yhteystiedotPuhelin,h=o.tyonantajanWwwOsoite,b=o.hakemusLahetetaan,v=o.kuvausteksti,e.abrupt("return",{jobId:t,city:s,jobTitle:u,company:l,area:p,email:d,address:m,contact:f,phone:g,companyUrl:h,otherContact:b,description:v,pages:1,source:n.name,message:"Not Sent Yet"});case 16:return e.prev=16,e.t0=e.catch(2),console.log(e.t0.message),e.abrupt("return",null);case 20:case"end":return e.stop()}},e,this,[[2,16]])}));return function(t){return e.apply(this,arguments)}}(),n}return Object(y.a)(t,e),t}(A),I=n(114),D=function(e){function t(e,n,r){var a;return Object(v.a)(this,t),(a=Object(j.a)(this,Object(x.a)(t).call(this,e,n))).getPage=function(e,t){var n=e||"python",r=a.token;return"".concat(r,"/jobentries?search=").concat(n,"&area=Uusimaa&page=").concat(t,"&format=json")},a.getJobs=function(){var e=Object(u.a)(i.a.mark(function e(t){var n,r,c,o,s,u,l,p,d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.url,r=1,c=a.getPage(t,r),e.prev=3,o=[],e.next=7,O.a.get("".concat(n).concat(c));case 7:return s=e.sent,e.next=10,s.data;case 10:return u=e.sent,e.next=13,u.results;case 13:l=e.sent,o=Object(I.a)(l);case 15:if(!u.next){e.next=31;break}return r+=1,c=a.getPage(t,r),e.next=20,O.a.get("".concat(n).concat(c));case 20:return s=e.sent,e.next=23,s.data;case 23:if(!(u=e.sent)){e.next=29;break}return e.next=27,u.results;case 27:l=e.sent,o=[].concat(Object(I.a)(o),Object(I.a)(l));case 29:e.next=15;break;case 31:if(p=[],o){e.next=34;break}throw new C("Empty bro");case 34:return p=o.map(function(e){var t=e.heading,n=e.slug,c=e.municipality_name,o=e.company_name,s=e.descr;return{jobId:n,city:c,jobTitle:t,company:o,area:e.area_name,description:s,pages:r,email:"",address:"",contact:"",phone:"",companyUrl:"",otherContact:"",source:a.name,message:"Not Sent Yet"}}),e.next=37,a.parser.formatJobs(p);case 37:return d=e.sent,e.abrupt("return",d);case 41:return e.prev=41,e.t0=e.catch(3),console.log(e.t0.message),e.abrupt("return",[]);case 45:case"end":return e.stop()}},e,this,[[3,41]])}));return function(t){return e.apply(this,arguments)}}(),a.token=r,a}return Object(y.a)(t,e),t}(A),J="ebef32a34a0114a37643ab35a366cb5e18106131",z="https://duunitori.fi/api/v1/",T="https://paikat.te-palvelut.fi/tpt-api/tyopaikat",_=function(){function e(){Object(v.a)(this,e),this.sources=new Map([["mol",new R(T,"mol")],["duunitori",new D(z,"duunitori",J)]])}return Object(E.a)(e,[{key:"getSource",value:function(){var e=Object(u.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sources.get(t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),M=function e(){if(Object(v.a)(this,e),this.resolve=function(e,t){throw new Error("implement me bro!")},(this instanceof e?this.constructor:void 0)===e)throw new TypeError("watch out bro!")},N=function(e){function t(){var e;return Object(v.a)(this,t),(e=Object(j.a)(this,Object(x.a)(t).call(this))).resolve=function(){var t=Object(u.a)(i.a.mark(function t(n,r){var a,c;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=null,t.next=3,e.dataHandler.getSource(r);case 3:return c=t.sent,t.prev=4,t.next=7,c.getJobs(n);case 7:a=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),console.log(t.t0.message);case 13:return t.abrupt("return",a);case 14:case"end":return t.stop()}},t,this,[[4,10]])}));return function(e,n){return t.apply(this,arguments)}}(),e.dataHandler=new _,e}return Object(y.a)(t,e),t}(M),L=n(117),F=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(j.a)(this,Object(x.a)(t).call(this,e))).message=e,n.name="PipeError",n}return Object(y.a)(t,e),t}(Object(P.a)(Error)),X="https://kamasoft-b164d6.pipedrive.com/v1",B="23d1f12428fbc7f7cec8f9c9e73c840176d8bda5",G=function e(){Object(v.a)(this,e),this.findOrg=function(){var e=Object(u.a)(i.a.mark(function e(t){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("".concat(X,"/organizations/find?term=").concat(t,"&api_token=").concat(B));case 3:if(n=e.sent,!(r=n.data.data)){e.next=9;break}return e.abrupt("return",{error:null,isEexist:!0,org_id:r[0].id});case 9:return e.abrupt("return",{error:!1,isEexist:!1,org_id:null});case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log("findOrg : ",e.t0.message),e.abrupt("return",{error:!0,isEexist:!1,org_id:null});case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),this.addOrg=function(){var e=Object(u.a)(i.a.mark(function e(t){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("".concat(X,"/organizations?api_token=").concat(B),t);case 3:if(n=e.sent,r=n.data.data){e.next=7;break}throw new F("Empty bro");case 7:return e.abrupt("return",r.id);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),this.getPersonsFromOrg=function(){var e=Object(u.a)(i.a.mark(function e(t){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("".concat(X,"/organizations/").concat(t,"/persons?api_token=").concat(B));case 3:return n=e.sent,r=n.data.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),this.getDealsFromOrg=function(){var e=Object(u.a)(i.a.mark(function e(t){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("".concat(X,"/organizations/").concat(t,"/deals?api_token=").concat(B));case 3:if(n=e.sent,r=n.data.data){e.next=7;break}throw new F("Empty bro");case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),this.addPerson=function(){var e=Object(u.a)(i.a.mark(function e(t){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("".concat(X,"/persons?api_token=").concat(B),t);case 3:if(n=e.sent,r=n.data.data){e.next=7;break}throw new F("fking Empty bro");case 7:return e.abrupt("return",r.id);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),this.addDeal=function(){var e=Object(u.a)(i.a.mark(function e(t){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("".concat(X,"/deals?api_token=").concat(B),Object(k.a)({},t));case 3:if(n=e.sent,r=n.data.data){e.next=7;break}throw new F("Empty bro");case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),this.addNote=function(){var e=Object(u.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("".concat(X,"/notes?api_token=").concat(B),t);case 3:if(n=e.sent){e.next=6;break}throw new F("Empty bro");case 6:return e.abrupt("return",{noteError:!1,data:n});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{noteError:!0,data:null});case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),this.addActivity=function(){var e=Object(u.a)(i.a.mark(function e(t){var n,r,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("".concat(X,"/activities?api_token=").concat(B),t);case 3:return n=e.sent,e.next=6,n.data;case 6:if(r=e.sent,a=r.success){e.next=10;break}throw new F("fk Empty bro");case 10:return e.abrupt("return",{error:{message:"Sent Success!"},success:a});case 13:return e.prev=13,e.t0=e.catch(0),console.log("activity error",e.t0.message),e.abrupt("return",{error:e.t0,success:!1});case 17:case"end":return e.stop()}},e,this,[[0,13]])}));return function(t){return e.apply(this,arguments)}}()},U=new(function(e){function t(){var e;return Object(v.a)(this,t),(e=Object(j.a)(this,Object(x.a)(t).call(this))).resolve=function(){var t=Object(u.a)(i.a.mark(function t(n){var r,a,c,o,s,u,l,p,d,m,f,g,h,b,v,j,x,y,E,w,O,P,C,S,A,R;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.api,a=n.company,c=n.contact,o=n.email,s=n.phone,u=n.address,l=n.description,p=n.source,d=null,t.next=5,r.findOrg(a);case 5:if(!(m=t.sent).error){t.next=10;break}return t.abrupt("return",{success:!1,error:{message:"Network/Apollo Problem.."}});case 10:m.isEexist&&(d=m.org_id);case 11:if(d){t.next=18;break}return f={name:a,address:u},t.next=15,r.addOrg(f);case 15:if(d=t.sent){t.next=18;break}return t.abrupt("return",{success:!1,error:{message:"Problem adding ".concat(a,"...")}});case 18:return g=null,h={name:c,email:o,phone:s,org_id:d},t.next=22,r.getPersonsFromOrg(d);case 22:if(b=t.sent,v=null,b){t.next=32;break}return t.next=27,r.addPerson(h);case 27:if(g=t.sent){t.next=30;break}return t.abrupt("return",{success:!1,error:{message:"Problem adding ".concat(c,"...")}});case 30:t.next=42;break;case 32:if(!(v=b.find(function(e){return e.name.includes(c.substring(0,10))}))){t.next=37;break}g=v.id,t.next=42;break;case 37:return t.next=39,r.addPerson(h);case 39:if(g=t.sent){t.next=42;break}return t.abrupt("return",{success:!1,error:{message:"Problem adding ".concat(c,"...")}});case 42:return t.next=44,r.getDealsFromOrg(d);case 44:if(j=t.sent,x=Object(L.a)({},"1a997708dff09f16898ed54f77f1d3dc0bc0d496",p),y=Object(k.a)({title:a,org_id:d,person_id:g},x),E=null,j){t.next=57;break}return t.next=51,r.addDeal(y);case 51:if(w=t.sent,E=w.id){t.next=55;break}return t.abrupt("return",{success:!1,error:{message:"Problem adding deal.."}});case 55:t.next=58;break;case 57:E=Object(I.a)(j).pop().id;case 58:return O={content:l,deal_id:E,org_id:d,person_id:g},t.next=61,r.addNote(O);case 61:if(P=t.sent,!P.noteError){t.next=65;break}return t.abrupt("return",{success:!1,error:{message:"Problem adding Note.."}});case 65:return C={subject:"call",type:"call",deal_id:E,person_id:g},t.next=68,r.addActivity(C);case 68:return S=t.sent,A=S.success,R=S.error,t.abrupt("return",{success:A,error:R});case 72:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.api=new G,e}return Object(y.a)(t,e),t}(M)),Y=new N,$={Query:{getJobs:function(){var e=Object(u.a)(i.a.mark(function e(t,n){var r,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.value,a=n.source,e.next=3,Y.resolve(r,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},Mutation:{addProspect:function(){var e=Object(u.a)(i.a.mark(function e(t,n){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.orgz,e.next=3,U.resolve(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}},q=function(){var e=Object(h.makeExecutableSchema)({typeDefs:"\n\n  type JobResponse {\n    jobId: String!\n    city: String,\n    jobTitle: String,\n    company: String,\n    area: String,\n    email: [String],\n    address: String,\n    contact:String ,\n    phone: [String] ,\n    companyUrl: String,\n    otherContact: String,\n    description: String,\n    source: String!,\n    pages: Int,\n    message:String!\n  }\n  type AddResponse {\n    success:Boolean\n    error:Error\n  }\n  input AddOrgzInput {\n    company: String\n    contact:String  \n    email: [String] \n    phone: [String]\n    description:String\n    address:String\n    source: String!    \n  }\n\n\n\n  type Error{\n    message:String!\n  }\n  type Query {\n    getJobs(value: String!, source: String!): [JobResponse],\n  }\n\n  type Mutation {\n    addProspect(orgz:AddOrgzInput!): AddResponse,\n  }\n\n  \n",resolvers:$}),t=new f.a({schema:e}),n=new g.a({addTypename:!1}),r=Object(b.a)(function(e){var t=e.graphQLErrors,n=e.networkError,r=e.operation;t&&t.forEach(function(e){var t=e.message,n=e.path;return console.log("[GraphQL error]: Message: ".concat(t,", Path: ").concat(n))}),n&&console.log("[Network error ".concat(r.operationName,"]: ").concat(n.message))});return new d.a({link:m.ApolloLink.from([r,t]),cache:n})},H=n(324),Q=n(371),W=n(372),K=n(368),V=n(120),Z=n(121),ee=n.n(Z);function te(){var e=Object(V.a)(["\n  mutation($orgz: AddOrgzInput!) {\n    addProspect(orgz: $orgz) {\n      success\n      error {\n        message\n      }\n    }\n  }\n"]);return te=function(){return e},e}function ne(){var e=Object(V.a)(["\n  query($value: String!, $source: String!) {\n    getJobs(value: $value, source: $source) {\n      jobId\n      city\n      jobTitle\n      company\n      area\n      email\n      address\n      contact\n      phone\n      companyUrl\n      otherContact\n      description\n      source\n      message\n    }\n  }\n"]);return ne=function(){return e},e}var re=ee()(ne()),ae=ee()(te()),ce=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return void 0!==n.reduce(function(e,t){return(e||{})[t]},e)},oe=n(355),se=n(369),ie=n(376),ue=function(e,t){ie.a.warning(e,{id:"forbidden-action",duration:t})},le=n(354),pe=function(e){return a.a.createElement(le.a,{marginY:10,padding:10,paddingX:40,display:"grid",gridGap:"1rem",width:"90%",border:"0px",marginLeft:"auto",marginRight:"auto",justifyItems:"center",justifyContent:"center",gridTemplateColumns:"repeat(auto-fit,400px)",gridAutoFlow:"dense"},e.children)},de=function(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)(""),d=Object(l.a)(s,2),m=d[0],f=d[1],g=e.alljobs;Object(r.useEffect)(function(){var e=g.length;console.log("in addall: ",e),f("Total jobs: ".concat(e))},[g]);var h=function(){var t=Object(u.a)(i.a.mark(function t(n,r){var a,c,s,p,d,m,g,h,b;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=e.alljobs,!((c=a.length)<=0)){t.next=5;break}return t.abrupt("return",ue("No job to add bro",3));case 5:return o(!0),s=!0,p=!1,d=void 0,t.prev=10,m=function(){var t=h.value,n=(b=Object(l.a)(t,2))[0],a=b[1],s=a.jobId,p=a.company,d=a.contact,m=a.email,g=a.phone,v=a.address,j=a.description,x=a.source,y=a.message,E={company:p,contact:d,email:m,phone:g,address:v,description:j,source:x};setTimeout(Object(u.a)(i.a.mark(function t(){var a,u,l,p,d,m,g;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.mutate({mutation:ae,variables:{orgz:E}});case 2:return a=t.sent,u=a.data,t.next=6,u.addProspect;case 6:return l=t.sent,p=l.error,d=l.success,console.log("Success: ",d),m=e.onAdd,g="Total jobs: ".concat(c," - sending ").concat(n+1,"/").concat(c," Deals "),y=p.message,t.next=15,m(s,y);case 15:n===c-1&&(g="Total jobs: ".concat(c," - ").concat(n+1,"/").concat(c," been sent "),o(!1)),f(g);case 17:case"end":return t.stop()}},t,this)})),1500*n)},t.next=14,a.entries();case 14:t.t0=Symbol.iterator,g=t.sent[t.t0]();case 16:if(s=(h=g.next()).done){t.next=21;break}m();case 18:s=!0,t.next=16;break;case 21:t.next=27;break;case 23:t.prev=23,t.t1=t.catch(10),p=!0,d=t.t1;case 27:t.prev=27,t.prev=28,s||null==g.return||g.return();case 30:if(t.prev=30,!p){t.next=33;break}throw d;case 33:return t.finish(30);case 34:return t.finish(27);case 35:case"end":return t.stop()}},t,this,[[10,23,27,35],[28,,30,34]])}));return function(e,n){return t.apply(this,arguments)}}(),b=e.checked,v=e.onSelChange,j=e.source;return a.a.createElement(pe,null,a.a.createElement(oe.a,{intent:c?"warning":"success",title:"".concat(j," : ").concat(m),marginRight:"4px",height:40}),a.a.createElement(p.ApolloConsumer,null,function(e){return function(e){return a.a.createElement(H.a,{intent:"success",onClick:function(t){return h(t,e)},appearance:"primary",iconBefore:"add",width:100},"Add All")}(e)}),a.a.createElement(se.a,{height:30,checked:b,onChange:v}),a.a.createElement(K.a,{marginLeft:8,padding:"2px",opacity:c?1:0}))},me=function(e){return a.a.createElement(le.a,{border:"muted",marginLeft:"auto",marginRight:"auto",marginY:10,padding:10,paddingX:40,display:"grid",gridGap:"1rem",width:"90%",justifyItems:"center",justifyContent:"center",gridTemplateColumns:"repeat(auto-fit,200px)",gridAutoFlow:"dense"},e.children)},fe=function(e){return a.a.createElement(le.a,{border:"0px",marginLeft:"auto",marginRight:"auto",padding:12,display:"grid",gridGap:"1rem",gridTemplateColumns:"1fr"},e.children)},ge=n(377),he=n(370),be=function(e){var t=e.prevPage,n=e.nextPage,r=e.curpage,c=e.nbpages;return a.a.createElement(le.a,{display:"flex",justifyContent:"center",width:"95%"},a.a.createElement(ge.a,{icon:"chevron-left",color:"success",cursor:"pointer",title:"",size:40,onClick:t}),a.a.createElement(he.a,{display:"inline-flex",margin:12,color:"green",isSolid:!0},"".concat(r,"/").concat(c)),a.a.createElement(ge.a,{icon:"chevron-right",color:"success",cursor:"pointer",size:40,title:"",onClick:n}))},ve=function(e){return a.a.createElement(le.a,{marginY:10,padding:10,paddingX:50,display:"grid",gridGap:"1rem",width:"90%",border:"0px",marginLeft:"auto",marginRight:"auto",justifyItems:"center",justifyContent:"center",gridTemplateColumns:"repeat(auto-fit,450px)",gridAutoFlow:"dense"},e.children)},je=n(367),xe=n(325),ye=function(e){return a.a.createElement(le.a,{elevation:2,float:"left",width:"auto",height:"auto",display:"grid",alignItems:"left",border:"default",gridGap:"1fr",padding:"1rem",margin:"1rem"},e.children)},Ee=function(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),c=n[0],o=n[1],s=e.job;Object(r.useEffect)(function(){var e=s.message;console.log("in Item: ",e)},[s,c]);var d=s.jobId,m=s.city,f=s.jobTitle,g=s.company,h=s.area,b=s.email,v=s.address,j=s.contact,x=s.phone,y=s.companyUrl,E=s.otherContact,w=s.description,O=s.source,k=s.message,P=function(){var t=Object(u.a)(i.a.mark(function t(n,r){var a,c,s,u,l,p,m;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),o(!0),a={company:g,contact:j,email:b,phone:x,address:v,description:w,source:O},t.next=5,r.mutate({mutation:ae,variables:{orgz:a}});case 5:return c=t.sent,s=c.data,t.next=9,s.addProspect;case 9:return u=t.sent,l=u.error,p=u.success,console.log("Success: ",p),m=e.onAdd,k=l.message,t.next=17,m(d,k);case 17:o(!1);case 18:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}();return a.a.createElement(ye,null,a.a.createElement(je.a,{color:"dodgerblue",size:600},f),a.a.createElement(je.a,{color:"dodgerblue",size:500},g),a.a.createElement(xe.a,null," City: ",m," "),a.a.createElement(xe.a,null," Area: ",h," "),a.a.createElement(xe.a,null," Url : ",y," "),a.a.createElement(xe.a,null," Contact: ",j.substring(0,60),"..."),a.a.createElement(xe.a,null," Address: ",v," "),a.a.createElement(xe.a,null," Email: ",b.join(" ")),a.a.createElement(xe.a,null," Phone: ",x.join(" ")),a.a.createElement(xe.a,null," Other Infos: ",E.substring(0,60),"..."),a.a.createElement(xe.a,null," Description: ",w.substring(0,60),"..."),a.a.createElement(le.a,{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gridGap:"1em",marginTop:"4px"},a.a.createElement(oe.a,{intent:"Sent Success!"===k?"success":"warning",title:k,marginRight:"4px",height:40}),a.a.createElement(p.ApolloConsumer,null,function(e){return function(e){return a.a.createElement(H.a,{intent:"success",marginLeft:"8px",marginRight:"8px",iconBefore:"add",appearance:"primary",justifyContent:"center",height:40,display:"flex",onClick:function(t){return P(t,e)}},"Add")}(e)}),a.a.createElement(K.a,{marginLeft:4,padding:"2px",opacity:c?1:0})))},we=function(e){var t=e.onAdd,n=e.currentPageJobs;return a.a.createElement(ve,null,n&&n.map(function(e){return a.a.createElement(Ee,{key:e.jobId,job:e,onAdd:t})}))},Oe=function(e){var t=Object(r.useState)(0),n=Object(l.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)(0),i=Object(l.a)(s,2),u=i[0],p=i[1],d=e.onAdd,m=e.jobs,f=e.jpp;Object(r.useEffect)(function(){var e=m.length;console.log("jpp len: ",f,e);var t=e%f===0?0:1,n=e>f?(e/f>>0)+t:1;console.log("r: ",t),console.log("np: ",n),p(n),o(0)},[m,f]);var g=m.slice(c,c+f),h=c/f+1;return a.a.createElement(le.a,null,a.a.createElement(be,{prevPage:function(){if(c-f<0)return ue("You Already at First Page Bro! ",3);o(c-f)},nextPage:function(){if(!(c<(u-1)*f))return ue("This is The Last Page Bro! ",3);o(c+f)},curpage:h,nbpages:u}),a.a.createElement(we,{onAdd:d,currentPageJobs:g}))},ke=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)("mol"),s=Object(l.a)(o,2),d=s[0],m=s[1],f=Object(r.useState)(15),g=Object(l.a)(f,2),h=g[0],b=g[1],v=Object(r.useState)(!1),j=Object(l.a)(v,2),x=j[0],y=j[1],E=Object(r.useState)({}),w=Object(l.a)(E,2),O=w[0],P=w[1],C=Object(r.useState)(!1),S=Object(l.a)(C,2),A=S[0],R=S[1];Object(r.useEffect)(function(){console.log("source jobs",d),console.log(" jobppage",h)},[O,n,d,A,h]);var I=function(e){y(e.target.checked)},D=function(e,t){var r=Object(k.a)({},O),a=r["".concat(d)]["".concat(n)];a[a.findIndex(function(t){return t.jobId===e})].message=t,P(r)},J=function(){var e=Object(u.a)(i.a.mark(function e(t,r){var a,c,o,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n){e.next=3;break}return e.abrupt("return",ue("Fill something bro! ",3));case 3:if(R(!0),a=Object(k.a)({},O),ce(a,"".concat(d))||(a["".concat(d)]={}),ce(a,"".concat(d),"".concat(n))){e.next=16;break}return e.next=9,r.query({query:re,variables:{value:n,source:d}});case 9:return c=e.sent,o=c.data,e.next=13,o.getJobs;case 13:s=e.sent,a["".concat(d)]["".concat(n)]=s,P(a);case 16:R(!1);case 17:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),z=ce(O,"".concat(d),"".concat(n))&&O["".concat(d)]["".concat(n)]?O["".concat(d)]["".concat(n)]:null;return a.a.createElement(fe,null,a.a.createElement(me,null,a.a.createElement(Q.a,{width:100,value:h,onChange:function(e){b(parseInt(e.target.value,10))}},a.a.createElement("option",{value:"10"},"10"),a.a.createElement("option",{value:"15"},"15"),a.a.createElement("option",{value:"20"},"20")),a.a.createElement(Q.a,{width:100,value:d,onChange:function(e){m(e.target.value)}},a.a.createElement("option",{value:"mol"},"Mol"),a.a.createElement("option",{value:"duunitori"},"Duuni")),a.a.createElement(W.a,{name:"search",placeholder:"search a job...",onChange:function(e){var t=e.target.value;c(t)}}),a.a.createElement(p.ApolloConsumer,null,function(e){return function(e){return a.a.createElement(H.a,{onClick:function(t){return J(t,e)},appearance:"primary",iconBefore:"search",width:100,intent:"success"},"Search")}(e)}),a.a.createElement(K.a,{marginLeft:8,padding:"2px",opacity:A?1:0})),function(){if(ce(O,"".concat(d),"".concat(n))){var e={alljobs:O["".concat(d)]["".concat(n)],checked:x,onSelChange:I,onAdd:D,source:d};return a.a.createElement(de,e)}return null}(),z&&x?a.a.createElement(Oe,{jobs:z,onAdd:D,jpp:h}):null)},Pe=function(e){var t=e.title,n=e.content;return a.a.createElement(le.a,{border:"0",padding:12,display:"block",gridGap:"1rem",width:"95vw",height:"80vh"},a.a.createElement(le.a,{width:"100%",height:"100%",display:"grid",border:"default",marginX:"auto",marginY:"12px",justifyItems:"center",justifyContent:"center",gridTemplateColumns:"1fr",gridTemplateRows:"1fr 10fr",gridAutoFlow:"dense",gridGap:"1rem"},a.a.createElement(je.a,{width:"100%",marginX:"auto",marginY:16,color:"dodgerblue",size:900,textAlign:"center"},t),n),e.children)},Ce=n(373),Se=function(e){var t=e.rowlay,n=e.start;return a.a.createElement(Ce.a,{color:"dodgerblue",width:"90%",height:"95%",display:"grid",border:"0",marginX:"auto",marginY:"12px",justifyItems:n?"start":"center",justifyContent:n?"start":"center",gridTemplateColumns:"1fr",gridTemplateRows:t,gridAutoFlow:"dense",gridGap:"1rem"},e.children)},Ae=function(e){var t=e.icon,n=e.headcontent;return a.a.createElement(Ce.a,{display:"flex"},a.a.createElement(ge.a,{marginX:"auto",icon:t,title:"",color:"success",size:50}),a.a.createElement(je.a,{color:"dodgerblue",size:700,marginLeft:16,marginTop:16},n))},Re=function(e){var t=e.nextPage,n=a.a.createElement(Se,{rowlay:"repeat(auto,1fr)",start:!0},a.a.createElement(Ae,{icon:"search-text",headcontent:" Jobs search.."}),a.a.createElement(Ae,{icon:"link",headcontent:" Linking jobs sources to CRM "}),a.a.createElement(Ae,{icon:"add-row-top",headcontent:" Automatic adding of deals and Notes to CRM Pipeline"}),a.a.createElement(Ae,{icon:"time",headcontent:" Minimize Time and Effort "}),a.a.createElement(Ae,{icon:"phone",headcontent:" sales team concentrate on contacting companies via ready-made contacts!"}));return a.a.createElement(Pe,{title:"Project Goal",content:n},a.a.createElement(le.a,{display:"flex",justifyContent:"center",justifyItems:"center",width:"95%",marginX:"auto"},a.a.createElement(ge.a,{marginX:"auto",icon:"chevron-right",title:"",color:"success",cursor:"pointer",size:50,onClick:t})))},Ie=n(122),De=n.n(Ie),Je=function(e){var t=function(e,t){var n=Object(r.useState)(null),a=Object(l.a)(n,2),c=a[0],o=a[1];return De.a.mermaidAPI.initialize({theme:"forest",logLevel:3,flowchart:{curve:"linear"},gantt:{axisFormat:"%m/%d/%Y"},sequence:{actorMargin:20}}),Object(r.useEffect)(function(){De.a.mermaidAPI.render(e,t,function(e){o(e)})},[c]),c}(e.id,e.content);return t?a.a.createElement(le.a,{width:"100%",height:"100%",marginX:"auto",display:"grid",justifyItems:"center",justifyContent:"center",gridTemplateColumns:"1fr",gridTemplateRows:"1fr",dangerouslySetInnerHTML:{__html:t}}):a.a.createElement(le.a,null,"Loading...")},ze=function(e){var t=e.prevPage,n=e.nextPage,r=a.a.createElement(Se,{rowlay:"1fr",start:!1},a.a.createElement(Je,{id:"arch",content:"\ngraph LR\nA> Jobs Data Sources] == jobs  ==> B{ Client }\nsubgraph APP\nB{ Client } \nend\nB{ Client } == add ==> C[ Pipedrive CRM ]\nC[  Pipedrive CRM  ] == response ==>B{ Client }\n"}));return a.a.createElement(Pe,{title:" Architecture ",content:r},a.a.createElement(le.a,{marginX:"auto",display:"flex",justifyContent:"center",justifyItems:"center",width:"95%"},a.a.createElement(ge.a,{marginReft:8,icon:"chevron-left",color:"success",cursor:"pointer",title:"",size:50,onClick:t}),a.a.createElement(ge.a,{marginLeft:8,icon:"chevron-right",color:"success",cursor:"pointer",size:50,title:"",onClick:n})))},Te=function(e){var t=e.prevPage,n=a.a.createElement(Se,{rowlay:"1fr",start:!1},a.a.createElement(Je,{id:"arch",content:"classDiagram\nIDataSource <|-- Mol\nIDataSource <|-- Duuni\nIDataSource o-- JobParser\nIDataSource o-- JobError\nDataHandler o-- IDataSource\nIResolver <|-- JobResolver\nIResolver <|-- PipeResolver\nError <|-- PipeError\nError <|-- JobError\nJobResolver o-- DataHandler\nPipeResolver o-- PipeApi\nPipeApi o-- PipeError\nJobs o-- Apollo\nJobItem o-- Apollo\nAddAll o-- Apollo\nApollo o-- IResolver\nIDataSource: url..\nIDataSource: token\nDataHandler: Source\nIResolver : resolve()\nJobResolver : resolve()\nPipeResolver : resolve()\nPipeApi : find()\nPipeApi : addDeals()\nPipeApi : ...\nJobs : search()\nAddAll : addProspect()\nJobParser : parse()\nApollo : init()\nError : message\nPipeError : message\nJobError : message\nMol: getJobs()\nDuuni: getJobs()\nIDataSource: getJobs()"}));return a.a.createElement(Pe,{title:"Overview of Class diagrams",content:n},a.a.createElement(le.a,{marginX:"auto",display:"flex",justifyContent:"center",justifyItems:"center",width:"95%"},a.a.createElement(ge.a,{marginX:"auto",icon:"chevron-left",color:"success",title:"",cursor:"pointer",size:50,onClick:t})))},_e=function(e){var t=e.prevPage,n=e.nextPage,r=a.a.createElement(Se,{rowlay:"repeat(auto,1fr)",start:!0},a.a.createElement(Ae,{icon:"zoom-to-fit",headcontent:" Reactjs "}),a.a.createElement(Ae,{icon:"zoom-to-fit",headcontent:" Apollo / graphQl / Axios "}),a.a.createElement(Ae,{icon:"zoom-to-fit",headcontent:" Mol, Duunnitori and Pipedrive APIs "}));return a.a.createElement(Pe,{title:"Technologies and APIs",content:r},a.a.createElement(le.a,{marginX:"auto",display:"flex",justifyContent:"center",justifyItems:"center",width:"95%"},a.a.createElement(ge.a,{marginReft:8,icon:"chevron-left",color:"success",cursor:"pointer",title:"",size:50,onClick:t}),a.a.createElement(ge.a,{marginLeft:8,icon:"chevron-right",color:"success",cursor:"pointer",size:50,title:"",onClick:n})))},Me=function(e){var t=e.prevPage,n=e.nextPage,r=a.a.createElement(Se,{rowlay:"1fr",start:!1},a.a.createElement(Je,{id:"arch",content:"\nsequenceDiagram\n    App--\x3e>Job Source: fetch jobs\n    Job Source--\x3e>App: Done Bro/Error\n    App--\x3e>CRM: Add Prospect\n    CRM->>CRM: create if not exists \n    CRM--\x3e>App: Added/Created/Error\n    Note right of CRM: Create if not existing\n    App--\x3e>CRM: Add Persons,Deals,Notes...\n    CRM--\x3e>App: Done Bro/Error...\n    Note right of CRM: Added stuffs  \n"}));return a.a.createElement(Pe,{title:"Sequence Diag ",content:r},a.a.createElement(le.a,{marginX:"auto",display:"flex",justifyContent:"center",justifyItems:"center",width:"95%"},a.a.createElement(ge.a,{marginReft:8,icon:"chevron-left",color:"success",cursor:"pointer",title:"",size:50,onClick:t}),a.a.createElement(ge.a,{marginLeft:8,icon:"chevron-right",color:"success",cursor:"pointer",size:50,title:"",onClick:n})))},Ne=function(){var e=Object(r.useState)(0),t=Object(l.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)(function(){console.log("page: ",n)},[n]);var o=function(){c(n+1)},s=function(){c(n-1)};return[a.a.createElement(Re,{nextPage:o}),a.a.createElement(_e,{prevPage:s,nextPage:o}),a.a.createElement(ze,{prevPage:s,nextPage:o}),a.a.createElement(Me,{prevPage:s,nextPage:o}),a.a.createElement(Te,{prevPage:s})][n]},Le=n(356),Fe=function(e){var t=e.togPage;return a.a.createElement(le.a,{display:"flex",justifyContent:"flex-end",width:"95%"},a.a.createElement(Le.a,{color:"green",isSolid:!0,onClick:t,style:{cursor:"pointer"}},"home"),a.a.createElement(Le.a,{color:"orange",isSolid:!0,onClick:t,style:{cursor:"pointer"}},"docs"))},Xe=function(){var e=Object(r.useState)(0),t=Object(l.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)(function(){console.log("page: ",n)},[n]);var o=[a.a.createElement(ke,{key:"jobs"}),a.a.createElement(Ne,{key:"docs"})];return[a.a.createElement(Fe,{togPage:function(){c(1^n)},key:"menu",style:{cursor:"pointer"}}),o[n]]},Be=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],o=function(){var e=Object(u.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q();case 3:t=e.sent,c(t),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)(function(){o()},[n]),n?a.a.createElement(p.ApolloProvider,{client:n},a.a.createElement(Xe,null)):"Setting the client ..."};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(Be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[178,2,1]]]);
//# sourceMappingURL=main.6e5c6f6c.chunk.js.map